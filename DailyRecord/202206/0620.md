# 20220620

1. ì½”ë”© ìŠ¤íƒ€ì¼ ê°€ì´ë“œ with ESLint

- ë‹¤ì–‘í•œ ê¸°ì—…ë“¤ê³¼ì˜ PoC ë¯¸íŒ…ì„ ì•ë‘ë©´ì„œ ìƒˆë¡­ê²Œ ì‹œì‘í•  í”„ë¡œì íŠ¸ë“¤ì— ëŒ€í•œ ê¸°ìˆ ì  ê³ ë ¤ë¥¼ í•˜ì˜€ìŒ
- ì—¬ëŸ¬ê°€ì§€ ì‚¬í•­ ì¤‘ ì‘ì„±ìë³„, ê·¸ë¦¬ê³  í”„ë¡œì íŠ¸ë³„ë¡œ ë‹¤ë¥¸ ì½”ë”© ìŠ¤íƒ€ì¼ì´ ë§ˆìŒì— ê±¸ë ¸ìŒ
- ì§€ê¸ˆ ì´ëŒ€ë¡œë¼ë©´ ì•ìœ¼ë¡œ ìƒˆë¡œìš´ ê°œë°œì ë©¤ë²„ê°€ ì™”ì„ ë•Œ ì´ˆê¸° í•™ìŠµ ë¹„ìš©ì´ ì»¤ì§€ë©°, ê¸°ì¡´ ë©¤ë²„ë“¤ ê°„ì—ë„ ì„œë¡œ ê°€ë…ì„±ì´ ë–¨ì–´ì§€ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•  ê²ƒì´ë¼ê³  ìƒê°í–ˆìŒ
- í•˜ì—¬, ì´ ë¬¸ì œë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ ì½”ë”© ìŠ¤íƒ€ì¼ ê°€ì´ë“œë¥¼ ì ìš©í•˜ê¸°ë¡œ í•¨
- ìŠ¤íƒ€ì¼ ê°€ì´ë“œëŠ” í˜„ì¬ í”„ë¡œì íŠ¸ ì „ì²´ì ìœ¼ë¡œ ê°€ì¥ ë§ì´ ì‚¬ìš©ë˜ëŠ” TypeScript(JavaScript) ê¸°ì¤€ìœ¼ë¡œ ì°¾ìŒ
  - ì»¤ë®¤ë‹ˆí‹°ì— ì¡´ì¬í•˜ëŠ” ê°€ì´ë“œë“¤ ì¤‘ í•˜ë‚˜ë¡œ ê²°ì •í•˜ê³ ì í•¨
- ì ìš© ìˆœì„œëŠ” ì•„ë˜ì™€ ê°™ìŒ

  1. íŒ¨í‚¤ì§€ ì„¤ì¹˜

  ```
  yarn add -D eslint eslint-config-airbnb eslint-plugin-import
  // ! ë°±ì•¤ë“œì¼ ê²½ìš° eslint-config-airbnb-base
  yarn add -D eslint-config-airbnb-typescript \
            @typescript-eslint/eslint-plugin \
            @typescript-eslint/parser
  ```

  2. ESLint ì„¤ì • íŒŒì¼ ì„¸íŒ…

  ```
  yarn run eslint --init
  ```

  ```
  ? How would you like to use ESLint? ...
  To check syntax only
  > To check syntax and find problems
  To check syntax, find problems, and enforce code style
  ```

  ```
  ? What type of modules does your project use? ...
  > JavaScript modules (import/export)
  CommonJS (require/exports)
  None of these
  ```

  ```
  ? Which framework does your project use? ...
  > React
  Vue.js
  None of these
  ```

  ```
  ? Does your project use TypeScript? Â» No / Yes
  ```

  ```
  ? Where does your code run? ...  (Press <space> to select, <a> to toggle all, <i> to invert selection)
  âˆš Browser
  âˆš Node
  ```

  ```
  ? How would you like to define a style for your project? ...
  > Use a popular style guide
  Answer questions about your style
  ```

  ```
  ? Which style guide do you want to follow? ...
  > Airbnb: https://github.com/airbnb/javascript
  Standard: https://github.com/standard/standard
  Google: https://github.com/google/eslint-config-google
  XO: https://github.com/xojs/eslint-config-xo
  ```

  ```
  ? What format do you want your config file to be in? ...
  > JavaScript
  YAML
  JSON
  ```

  ```
  Checking peerDependencies of eslint-config-airbnb@latest
  The config that you've selected requires the following dependencies:

  eslint-plugin-react@^7.28.0 @typescript-eslint/eslint-plugin@latest eslint-config-airbnb@latest eslint@^7.32.0 || ^8.2.0 eslint-plugin-import@^2.25.3 eslint-plugin-jsx-a11y@^6.5.1 eslint-plugin-react-hooks@^4.3.0 @typescript-eslint/parser@latest
  ? Would you like to install them now? Â» No / Yes
  ```

  3. .eslintrc.js ìµœì¢… ì„¤ì •(Next.js ê¸°ì¤€)

  ```js
  module.exports = {
    root: true,
    env: {
      browser: true,
      es2021: true,
      node: true,
    },
    extends: [
      "eslint:recommended",
      "plugin:react/recommended",
      "plugin:@next/next/recommended",
      "plugin:@typescript-eslint/recommended",
      "plugin:@typescript-eslint/recommended-requiring-type-checking",
      "airbnb",
      "airbnb-typescript",
      "prettier",
    ],
    parser: "@typescript-eslint/parser",
    parserOptions: {
      tsconfigRootDir: __dirname,
      project: "./tsconfig.eslint.json",
      ecmaFeatures: {
        jsx: true,
      },
      ecmaVersion: "latest",
      sourceType: "module",
    },
    settings: {
      "import/resolver": {
        node: {
          extensions: [".js", ".jsx", ".ts", ".tsx"],
          moduleDirectory: ["node_modules"],
        },
        typescript: {},
      },
    },
    plugins: ["react", "@typescript-eslint", "prettier", "import"],
    rules: {
      // 0: off, 1: warning, 2: error
      "prettier/prettier": [
        2,
        {
          endOfLine: "lf",
          semi: true,
          trailingComma: "es5",
          singleQuote: false,
          printWidth: 100,
          tabWidth: 2,
          useTabs: false,
          bracketSpacing: false,
          bracketSameLine: true,
        },
      ],
      "react/react-in-jsx-scope": 0,
      "react/display-name": 0,
      "react/jsx-filename-extension": [1, { extensions: [".jsx", ".tsx"] }],
      "react/destructuring-assignment": [1, "always"],
      "react/jsx-props-no-spreading": 0,
      "react/function-component-definition": [2, { namedComponents: ["function-declaration", "arrow-function"] }],
      "react/require-default-props": [2, { forbidDefaultForRequired: true, classes: "defaultProps", functions: "defaultArguments" }],
      "import/extensions": [2, "never"], // ì—ëŸ¬ë¡œ í‘œì‹œ, í™•ì¥ì ì‚¬ìš© ì•ˆí•¨
      "import/prefer-default-export": 0,
      "no-underscore-dangle": [2, { allowAfterThis: true, allowFunctionParams: false }],
      "no-use-before-define": 0,
      "@typescript-eslint/no-use-before-define": 0,
      "no-unused-vars": 0, // @typescript-eslint/no-unused-vars ì‚¬ìš©ì„ ìœ„í•´ off
      "@typescript-eslint/no-unused-vars": [1, { vars: "all", args: "none", ignoreRestSiblings: false }],
      "no-unused-expressions": 0, // @typescript-eslint/no-unused-expressions ì‚¬ìš©ì„ ìœ„í•´ off
      "@typescript-eslint/no-unused-expressions": [2, { allowShortCircuit: true, allowTernary: true }],
      "@typescript-eslint/restrict-plus-operands": [1, { checkCompoundAssignments: true, allowAny: true }],
      "@typescript-eslint/no-misused-promises": [
        "error",
        {
          checksConditionals: false,
          checksVoidReturn: false,
        },
      ],
      "@typescript-eslint/no-floating-promises": [1, { ignoreVoid: true }],
      eqeqeq: 2, // ===, !== ë§Œ ì“°ê¸°
      "no-void": ["error", { allowAsStatement: true }],
      "jsx-a11y/label-has-associated-control": [
        2,
        {
          labelAttributes: ["label"],
        },
      ],
      "no-restricted-syntax": 0,
      "no-await-in-loop": 0,
      "no-nested-ternary": 0,
      "no-param-reassign": ["warn", { props: false }],
      "no-explicit-any": 0, // @typescript-eslint/no-explicit-any ì‚¬ìš©ì„ ìœ„í•´ off
      // ì´í•˜ í•­ëª©ë“¤ì€ í‰ì†Œì—ëŠ” "off", ê¸‰í•œ ë¶ˆ ë‹¤ ê»ìœ¼ë©´ "warn"ìœ¼ë¡œ í•˜ì—¬ ì½”ë“œ ì •ë¦¬í•´ë³´ê¸°
      "@typescript-eslint/no-explicit-any": "off",
      "@typescript-eslint/no-unsafe-assignment": "off",
      "@typescript-eslint/no-unsafe-member-access": "off",
      "@typescript-eslint/no-unsafe-call": "off",
      "@typescript-eslint/no-unsafe-argument": "off",
      "@typescript-eslint/no-unsafe-return": "off",
      "@typescript-eslint/no-inferrable-types": "off",
      "@typescript-eslint/no-var-requires": "off",
    },
  };
  ```

  4. prettier ì„¸íŒ…

  ```
  // íŒ¨í‚¤ì§€ ì„¤ì¹˜
  yarn add -D prettier eslint-config-prettier eslint-plugin-prettier
  ```

  ```js
  // .prettierrc.js
  module.exports = {
    endOfLine: "lf", // ì¤„ë°”ê¿ˆì„ \n ìœ¼ë¡œ í†µì¼
    semi: true, // ë¼ì¸ ëì— ì„¸ë¯¸ì½œë¡  ë¶™ì´ê¸°
    trailingComma: "es5", // object, array ë“±ì˜ ë§ˆì§€ë§‰ ì›ì†Œ ë’¤ì— ì½¤ë§ˆ(,) ë¶™ì´ê¸°
    singleQuote: false, // ìŒë”°ì˜´í‘œ ì‚¬ìš©
    printWidth: 100, // í•œ ì¤„ì— ì¶œë ¥í•  ê¸€ì ìˆ˜(line length)
    tabWidth: 2, // íƒ­ ê°„ê²©
    useTabs: false, // íƒ­ì„ ì“¸ì§€ ìŠ¤í˜ì´ìŠ¤ ì“¸ì§€ ì—¬ë¶€
    bracketSpacing: false, // ê´„í˜¸ì™€ ê´„í˜¸ ë‚´ìš© ì‚¬ì´ì— ê°„ê²© ì—¬ë¶€
    bracketSameLine: true,
  };
  ```

  5. eslint, prettier ìë™í™” íŒ¨í‚¤ì§€ ì„¤ì¹˜

  ```
  yarn add -D husky lint-staged
  ```

  6. package.json scripts ì¶”ê°€

  ```json
  {
    "scripts": {
      // ...
      "eslint": "eslint \"**/*.+(js|jsx|ts|tsx)\"",
      "eslint:fix": "eslint --fix \"**/*.+(js|jsx|ts|tsx)\"",
      "prettier": "prettier --check \"**/*.+(js|jsx|ts|tsx|json|yml|yaml|md|css)\"",
      "prettier:fix": "prettier --write \"**/*.+(js|jsx|ts|tsx|json|yml|yaml|md|css)\"",
      "pre-commit": "lint-staged"
    },
    // ...
    "lint-staged": {
      "./*/**/*.{js,jsx,ts,tsx}": ["yarn prettier:fix", "yarn eslint:fix"],
      "*.{json,md}": ["yarn prettier:fix"]
    }
  }
  ```

  7. VSCode ì„¤ì •(settings.json)

  ```json
  {
    // ...
    "editor.formatOnSave": true,
    "[javascript]": {
      "editor.defaultFormatter": "esbenp.prettier-vscode",
      "editor.formatOnSave": true
    },
    "editor.codeActionsOnSave": {
      "source.fixAll.eslint": true
    },
    "eslint.alwaysShowStatus": true
    // ...
  }
  ```

<ì°¸ê³  ìë£Œ>

- [Coding Style Guide ë¥¼ ì‘ì„±í•˜ë ¤ëŠ” ì§€ê¸ˆ, ìš°ë¦¬ê°€ í•´ì•¼ í•˜ëŠ” ê±´ ë¬´ì—‡ì¼ê¹Œ?](https://velog.io/@dell_mond/Coding-Style-Guide-%EB%A5%BC-%EC%9E%91%EC%84%B1%ED%95%98%EB%A0%A4%EB%8A%94-%EC%A7%80%EA%B8%88-%EC%9A%B0%EB%A6%AC%EA%B0%80-%ED%95%B4%EC%95%BC-%ED%95%98%EB%8A%94-%EA%B1%B4-%EB%AC%B4%EC%97%87%EC%9D%BC%EA%B9%8C)
- [ì½”ë”© ìŠ¤íƒ€ì¼ì— ëŒ€í•´ ë…¼ìŸí•˜ëŠ” ì´ìœ ](https://www.mimul.com/blog/why-we-argue-style/)
- [[í˜‘ì—…] Prettier & ESLint, Airbnb Style Guideë¡œ ì½”ë“œ ì»¨ë²¤ì…˜ ì„¤ì •í•˜ê¸°](https://overcome-the-limits.tistory.com/4)
- [Compare the Top 3 Style Guides and Set Them Up With ESLint](https://betterprogramming.pub/comparing-the-top-three-style-guides-and-setting-them-up-with-eslint-98ea0d2fc5b7)
- [ESLint - Poiemaweb](https://poiemaweb.com/eslint)
- [[TypeScript] Unable to resolve path to module '~' ì˜¤ë¥˜ í•´ê²° ğŸ” / Webpack + Typescript + Eslint](https://velog.io/@kyoung-jnn/TypeScript-Unable-to-resolve-path-to-module-%EC%98%A4%EB%A5%98-%ED%95%B4%EA%B2%B0-Webpack-Typescript-Eslint)
- [NextJSì— ESLintì™€ Prettier ì ìš©í•˜ê¸° (NextJS React í”„ë¡œì íŠ¸ 06)](https://blog.pumpkin-raccoon.com/75)
- [vicasas/.eslintignore](https://gist.github.com/vicasas/af63a40edeb41c9437305d6cbde4bd5d)
- [ESLint + Typescript](https://blog.hyunsub.kim/Node/eslint/)
- [Options - Prettier](https://prettier.io/docs/en/options.html#arrow-function-parentheses)
- [eslint-config-airbnb-typescript](https://www.npmjs.com/package/eslint-config-airbnb-typescript)
