# 20251209

1. SolidJS - hook 안에 hook 넣지 말자!

hook을 만들 때, hook 안에 다른 hook을 넣지 말자!
- 다른 hook에서 값을 가져와야 하면, props로 전달받기
- 특히 hook에서 tanstack query (어쩌면 solid-query만) 호출로 데이터를 가져올 경우, hook in hook은 절대 하지 말자! 안 그러면 defaultQueryOptions가 undefined 어쩌구 하는 에러를 보게 될 것임

2. SolidJS - <For> 등을 이용한 리스트 아이템 출력 시 주의사항

SolidJS에서 <For>가 됐든 뭐든 리스트 아이템을 보여줄 때, 각각의 리스트 아이템 컴포넌트 안에서 tanstack `useQuery`나 `createAsync` 등을 사용하여 데이터를 쿼리하지 말자! 이 목록을 `useInfiniteQuery`를 사용하여 추가 데이터를 불러오는 식으로 보여줘야 할 경우, 위와 같이 각각의 아이템 내부에서 쿼리를 하면 화면 전체가 새롭게 그려지면서 목록의 첫번째 아이템으로 스크롤이 돌아가게 된다.

각각의 아이템 내부에는 오직 mutation 같은 것만 포함한 hook을 사용하도록 한다.
각각의 아이템에 대하여 가져와야 할 데이터가 있을 경우, 이는 리스트 데이터를 불러올 때 포함하여 한꺼번에 불러오도록 하자.
이렇게 하면 위에서 말했던 것과 같은 스크롤이 첫 아이템으로 돌아가게 되는 등의 문제가 해소된다.