# 20220705

1. Next.js E2E Testing

- Next.js ê¸°ë°˜ì˜ í”„ë¡œì íŠ¸ì˜ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ì½”ë“œ ì‘ì„±ì„ í•˜ê³ ì í•˜ì˜€ìŒ(ê¸°ì¡´ì— í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ì „ë¬´í•œ ìƒí™©)
- ì´ë¯¸ í”„ë¡œì íŠ¸ì˜ ê¸°ëŠ¥ì´ ëŒ€ë¶€ë¶„ êµ¬í˜„ë˜ì–´ ìˆëŠ” ìƒí™©ì´ì—ˆê¸°ì— ìš°ì„ ì€ ì‚¬ìš©ì ê´€ì ì˜ í…ŒìŠ¤íŠ¸ì¸ E2E testë¥¼ ë§Œë“¤ê³ ì í•¨
- ì´ë¥¼ ìœ„í•´ ì‚¬ìš© ê°€ëŠ¥í•œ ë„êµ¬ë¡œ Cypressì™€ Playwrightê°€ ìˆì—ˆìŒ
  |Cypress|Playwright|
  |:-:|:-:|
  |í¬ë¡œë¯¸ì›€, íŒŒì´ì–´í­ìŠ¤|í¬ë¡œë¯¸ì›€, íŒŒì´ì–´í­ìŠ¤, ì›¹í‚·|
  |TS, JS|TS, JS, Python, .NET, Java|
  |Cypress Test Runner|customizable and extendable Native Test Runner|

<ì°¸ê³  ìë£Œ>

- [Testing - Next.js](https://nextjs.org/docs/testing)
- [ì„¤ë§ˆ ì•„ì§ë„ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„± ì•ˆ í•˜ì‹œë‚˜ìš”?](https://ssowonny.medium.com/%EC%84%A4%EB%A7%88-%EC%95%84%EC%A7%81%EB%8F%84-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%BD%94%EB%93%9C%EB%A5%BC-%EC%9E%91%EC%84%B1-%EC%95%88-%ED%95%98%EC%8B%9C%EB%82%98%EC%9A%94-b54ec61ef91a)
- [End-to-End Testing vs Integration Testing](https://www.testim.io/blog/end-to-end-testing-vs-integration-testing/)
- [E2E, Integration, Unit test](https://velog.io/@suasue/E2E-Integration-Unit-test)
- [Why Cypress? - Cypress Docs](https://docs.cypress.io/guides/overview/why-cypress)
- [Getting started - Playwright Docs](https://playwright.dev/docs/intro)
- [Playwright vs Cypress - ProgramsBuzz](https://www.programsbuzz.com/article/playwright-vs-cypress)
- [ë©ˆì¶°! ë²„ê·¸ ë©ˆì¶°! E2E í…ŒìŠ¤íŠ¸ë¡œ ë²„ê·¸ ë©ˆì¶”ê¸° Feat. Playwright](https://hyperconnect.github.io/2022/01/28/e2e-test-with-playwright.html)
- [Playwright vs Cypress ğŸ­](https://www.youtube.com/watch?v=idX9hSW0MY4)
- [The Best End-to-End Testing in JavaScript: Playwright or Cypress?](https://hotovo.com/2022/02/03/the-best-end-to-end-testing-in-javascript-playwright-or-cypress/)

---

2. Next.jsì—ì„œ Styled-Components ì‚¬ìš©í•˜ê¸° without Babel

- ê¸°ì¡´ì— styled-componentsë¥¼ ìœ„í•´ì„œ .babelrcë¡œ styled-components ê´€ë ¨ ì„¤ì •ì„ ê´€ë¦¬í•˜ì˜€ìŒ

```json
// .babelrc
{
  "presets": ["next/babel"],
  "plugins": [
    [
      "styled-components",
      {
        "ssr": true,
        "displayName": true,
        "preprocess": false
      }
    ]
  ]
}
```

- ì—¬ê¸°ì„œ ë¬¸ì œëŠ” ì´ë¡œ ì¸í•´ Next.jsì˜ Rust compilerê°€ ì‘ë™í•˜ì§€ ì•ŠìŒ
- Next.js ê³µì‹ ë¬¸ì„œì— ì˜í•˜ë©´ Rust compilerë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ Babelì„ ì‚¬ìš©í•˜ëŠ” ê²ƒë³´ë‹¤ 17ë°° ë¹ ë¥´ë‹¤ê³  í•¨
- ìƒí™©ì´ ì´ëŸ¬í•˜ë‹ˆ Babel ì—†ì´ styled-components ì„¤ì •ì„ í•  ìˆ˜ ìˆëŠ”ì§€ ì°¾ì•„ë³´ì•˜ê³ , ê·¸ ë°©ë²•ì´ ìˆì—ˆìŒ

```js
// next.config.js
/** @type {import('next').NextConfig} */
const nextConfig = {
  // ...
  compiler: {
    // see https://styled-components.com/docs/tooling#babel-plugin for more info on the options.
    styledComponents: boolean | {
      // Enabled by default in development, disabled in production to reduce file size,
      // setting this will override the default for all environments.
      displayName?: boolean,
      // Enabled by default.
      ssr?: boolean,
      // Enabled by default.
      fileName?: boolean,
      // Empty by default.
      topLevelImportPaths?: string[],
      // Defaults to ["index"].
      meaninglessFileNames?: string[],
      // Enabled by default.
      cssProp?: boolean,
      // Empty by default.
      namespace?: string,
      // Not supported yet.
      minify?: boolean,
      // Not supported yet.
      transpileTemplateLiterals?: boolean,
      // Not supported yet.
      pure?: boolean,
    },
  }
};

module.exports = nextConfig;
```

<ì°¸ê³  ìë£Œ>

- [Next.js Compiler - Next.js](https://nextjs.org/docs/advanced-features/compiler#styled-components)
