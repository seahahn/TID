# 20221012

1. Firebase SDK Admin in Nest.js

- 클라이언트에 FCM을 보내기 위해 서버에 Firebase SDK Admin을 세팅해야 했음
- 아래는 그 과정임

  - Firebase SDK Admin 설치
    ```
    pnpm add @firebase/app-types // missing peer
    pnpm add firebase-admin
    ```
  - Firebase Console 설정 -> 서비스 계정 -> 새 비공개 키 생성 -> JSON 파일 받아서 프로젝트 루트에 넣기
  - .env에 JSON 파일 경로를 담은 환경 변수 추가
    ```
    GOOGLE_APPLICATION_CREDENTIALS="/path/to/service-account-file.json"
    ```
  - Firebase App 초기화

    - nestjs이므로 main.ts에서 초기화함
    - 이를 하지 않으면 이후에 firebase 관련 메소드 작동 시 에러 발생함

    ```ts
    import { initializeApp } from "firebase-admin/app";

    const app = initializeApp({
      credential: applicationDefault(),
    });
    ```

---

2. Chart.js 높이 조절하기

- div 안에 chartjs 컴포넌트를 넣어줌
  - div display: relative로 지정
- chart option - maintainAspectRatio: false
- div의 높이를 알맞게 조정

<참고 자료>

- [Responsive Charts - Chart.js](https://www.chartjs.org/docs/latest/configuration/responsive.html)
- [chart.js 크기 조정 / 사이즈 조정](https://ming9mon.tistory.com/108)
